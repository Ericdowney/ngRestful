!function(r,t){"use strict";var e=t.module("ngRestful",[]);e.directive("ngRestful",["$http",function(r){return{restrict:"E",replace:!0,transclude:!0,scope:{restModel:"=",restUrl:"=",restMethod:"@",restParams:"=",restSuccess:"&",restError:"&",restWatchUrl:"@",restWatchParams:"@"},template:"<div class='ng-restful' ng-transclude></div>",controller:function(t){var e=function(r,e,s,c){t.restSuccess&&""!=t.restSuccess&&t.restSuccess()(r,e,s,c)},s=function(r,e,s,c){t.restError&&""!=t.restError&&t.restError()(r,e,s,c)},c=function(){r[t.restMethod.toLowerCase()](t.restUrl,t.restParams).success(function(r,s,c,n){t.restModel=r,e(r,s,c,n)}).error(function(r,t,e,c){s(r,t,e,c)})};1==t.restWatchUrl&&t.$watch("restUrl",function(){c()}),1==t.restWatchParams&&t.$watch("restParams",function(){c()}),c()}}}]),e.directive("ngRestfulForm",["$http",function(r){return{restrict:"E",replace:!0,transclude:!0,scope:{restModel:"=",restUrl:"=",restMethod:"@",restSuccess:"&",restError:"&"},template:"<form class='ng-restful-form' ng-transclude></form>",controller:function(t){var e=function(r,e,s,c){t.restSuccess&&""!=t.restSuccess&&t.restSuccess()(r,e,s,c)},s=function(r,e,s,c){t.restError&&""!=t.restError&&t.restError(r,e,s,c)};t.restfulFormSubmit=function(){r[t.restMethod.toLowerCase()](t.restUrl,t.restModel).success(function(r,t,s,c){e()(r,t,s,c)}).error(function(r,t,e,c){s(r,t,e,c)})}},link:function(r,t){t.bind("submit",function(t){t.preventDefault(),r.restfulFormSubmit()})}}}])}(window,window.angular);